<!DOCTYPE html>
<html ng-app="Todo">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.indigo-amber.min.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/scripts/angular/angular.js"></script>
    <script src="/app.js"></script>
    <script src="/todoController.js"></script>
    <script src="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.min.js"></script>


    <title>what TODO today</title>
  </head>
  <body ng-controller="ListsController as lists">
    <!-- nav drawer with lists -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">ToDo Lists</span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link" id="list-list" ng-model="collapsed" ng-click="lists.getOneList(list); collapsed=!collapsed" ng-repeat="list in lists.all">
        {{list.title}} <button ng-click="lists.deleteList(list)">X</button>
      </a>

    </nav>
  </div>
  <main class="mdl-layout__content">
    <div class="page-content">
      <h1>ToDo Lists</h1>
      <div class="page" ng-controller="AuthController as auth">
        <p id="welcome-msg">{{auth.welcome}}</p>
      <section ng-controller="UsersController as users">
        <div ng-model="test">

      </div>
      <!-- <div id="user-display">
        Show/Hide Test Users: <input type="checkbox" ng-model="checked" aria-label="Toggle ngHide"><br>
        <ul id="users" ng-show="checked">
          <h4>test users</h4>
          <li id="user-list" ng-repeat="user in users.all">
            <h4>Name: {{user.name}}<button ng-click="users.deleteUser(user)">X</button></h4>
          </li>
        </ul>
      </div> -->
        <form class="add-user" ng-show="auth.token == undefined" ng-submit="users.addUser()">
      <!-- doesnt work yet need to find angular tag that can show/hide divs based on token presence -->
      <h3>Sign Up Here!</h3>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <label for="new-user-name" class="mdl-textfield__label">username</label>
        <input type="text" class="mdl-textfield__input" id="new-user-name" ng-model="users.newUser.name">
      </div><br>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <label for="new-user-password" class="mdl-textfield__label">password</label>
        <input type="text" id="new-user-password" class="mdl-textfield__input" ng-model="users.newUser.password">
      </div>
      <div>
        <input type="submit" id="signup" value="SignUp" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">
      </div>
    </form>
      </section>
      <section ng-show="auth.token == undefined">
        <form class="login">
          <h3>Login</h3>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <label for="username" class="mdl-textfield__label">username</label>
            <input type="text" id="username" class="mdl-textfield__input" ng-model="user.name">
          </div><br>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <label for="password" class="mdl-textfield__label">password</label>
            <input type="text" id="password" class="mdl-textfield__input" ng-model="user.password">
          </div>
          <div>
            <input type="submit" ng-click="auth.login(user)" id="login" value="Login" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">
          </div>
        </form>
      </section>


        <form class="add-form" ng-hide="auth.token == undefined" ng-submit="lists.addList()">
          <h5>Add a ToDo List</h5>

          <div>
            <label for="list-title">Title:</label>
            <input type="text" id="list-title" placeholder="Title" ng-model="lists.newList.title"
          </div>
          <div>
            <input type="submit" id="add-list" value="Add List">
          </div>
        </form>
        <div id="todo-list" ng-hide="collapsed">
        {{lists.list.title}}<br>
        <ul >
          <li id="list-of-todos" ng-repeat="todo in lists.list.todos">
            {{todo}}
          </li>
        </ul>
        <form class="edit-list" ng-hide="auth.token == undefined" ng-submit="lists.addTodo()">
          <h5>Add a ToDo</h5>
            <div>
              <label for="new-todo">New Todo:</label>
              <input type="text" name="todo" id="new-todo" placeholder="what to do today?" ng-model="lists.newTodo">
            </div>
            <div>
              <input type="submit" id="add-todo" value="Add">
            </div>
        </form>
      </div> <!-- todo list div-->



    </div> <!-- auth div -->

    </div>

  </main>
</div>

  </body>
</html>
